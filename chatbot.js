
        // Current language (default: English)
        let currentLang = 'en';
        
        // Translations database
        const translations = {
            en: {
                title: "Barangay Baritan Help Center",
                welcome: "Welcome to Barangay Baritan Help Center. How can we assist you today?",
                langBtn: "Filipino",
                questions: [
                    "What is the history of Barangay Baritan?",
                    "Who are the current barangay officials?",
                    "What are the major establishments in Barangay Baritan?",
                    "What are your operating hours?",
                    "How can I contact the barangay?",
                    "Who should apply for barangay account?",
                    "What online payment methods are accepted?",
                    "Do I need to register to access services?",
                    "When should I apply for a Certificate of Indigency?",
                    "When should I apply for a Clearance, Certification, or Permit?"
                ],
                answers: [
                    "In the early days, Baritan was partially a grassy and muddy place covered by grass called 'baret' used as feed for horses. It has a total land area of 33.01 hectares with major economic sources from fishing and commerce. Barangay Baritan is situated near Muzon River (East), Barangay Flores (North), Barangay Concepcion (South), and Malabon-Navotas River (West). Current location is at #1 Sta. Rita St., Sto. Rosario Village, Baritan, Malabon City. Population: 10,193 (2015 PSA survey), 2,530 households, 4,375 families, and 7,722 registered voters.",
                    
                    "Barangay Captain: Gleen P. Santiago\nBarangay Kagawads:\n- Edwin G. Hio\n- Noel A. Espino\n- Rodelio E. Santos\n- Virgilio K. Que\n- Christopher Don R. Lucas\n- Ma. Concepcion S. Santiago\n- Bersigo R. Martin Jr.\nSK Chairperson: Jaymie Dianne Bautista\nBarangay Secretary: Jennifer D. Mangahas\nBarangay Treasurer: Elisha Emile D. Gungon",
                    
                    "Major establishments include:\n- Philippine Long Distance Co. (PLDT)\n- Rufina Patis\n- Metro Oil Gasoline Station\nSchools:\n- Amang Rodriguez Elementary School (ARES)\n- Arellano University\nThe Baritan Sports Complex serves as venue for recreational sports, meetings and assemblies.",
                    
                    "Our operating hours are:\nBarangay Office: 8:00 AM - 5:00 PM\nBarangay Soldiers For Peace & Order: 24 Hours",
                    
                    "You can contact us through:\n\nFacebook: https://www.facebook.com/barangaybaritankmgs\n\nPhone: (+63) 942 423 5234",
                    
                    "The account should be applied for by the head of the family, as designated within the family.",
                    
                    "We currently accept payments via PayMaya and GCash.",
                    
                    "Yes, registration is required to access all services, expect for blotter and complaint services",
                    
                    "You may apply for a Certificate of Indigency if you need it for:\n- Financial assistance\n- Medical assistance\n- Educational assistance\n- Social pension requirements\n- Burial assistance\n- P.W.D ID requirements\n- Anti-rabies vaccination\n- Legal assistance\n- 4Ps requirements\n- OSCA requirements\n- Solo parent ID requirements\n- Drug test requirements",
                    
                    "Apply for these documents if required for:\n- SSS requirements\n- PLDT requirements\n- Demolition permit\n- Renovation permit\n- Postal ID requirements\n- PhilHealth requirements\n- Business permit or business closure\n- Bank requirements\n- Loan requirements\n- Marriage requirements\n- Internet connection requirements"
                ]
            },
            fil: {
                title: "Barangay Baritan Help Center",
                welcome: "Maligayang pagdating sa Barangay Baritan Help Center. Paano kami makakatulong sa inyo ngayon?",
                langBtn: "English",
                questions: [
                    "Ano ang kasaysayan ng Barangay Baritan?",
                    "Sino-sino ang kasalukuyang opisyales ng barangay?",
                    "Ano ang mga pangunahing establisyemento sa Barangay Baritan?",
                    "Ano ang inyong oras ng operasyon?",
                    "Paano ako makakontak ng barangay?",
                    "Sino ang dapat mag-apply para sa barangay account?",
                    "Anong mga online payment method ang tinatanggap?",
                    "Kailangan ba mag-register para makapag-access ng serbisyo?",
                    "Kailan ako dapat mag-apply para sa Certificate of Indigency?",
                    "Kailan ako dapat mag-apply para sa Clearance, Certification, o Permit?"
                ],
                answers: [
                    "Noong unang panahon, ang Baritan ay bahagyang may mga damuhan at maputik na lugar na tinutubuan ng damong tinatawag na 'baret' na ginagamit bilang pagkain ng kabayo. May kabuuang sukat na 33.01 ektarya na ang pangunahing ikinabubuhay ay pangingisda at pangangalakal. Ang Barangay Baritan ay matatagpuan malapit sa Ilog Muzon (Silangan), Barangay Flores (Hilaga), Barangay Concepcion (Timog), at Ilog Malabon-Navotas (Kanluran). Kasalukuyang lokasyon: #1 Sta. Rita St., Sto. Rosario Village, Baritan, Malabon City. Populasyon: 10,193 (2015 PSA survey), 2,530 sambahayan, 4,375 pamilya, at 7,722 rehistradong botante.",
                    
                    "Punong Barangay: Gleen P. Santiago\nMga Kagawad ng Barangay:\n- Edwin G. Hio\n- Noel A. Espino\n- Rodelio E. Santos\n- Virgilio K. Que\n- Christopher Don R. Lucas\n- Ma. Concepcion S. Santiago\n- Bersigo R. Martin Jr.\nSK Chairperson: Jaymie Dianne Bautista\nKalihim ng Barangay: Jennifer D. Mangahas\nIngat-yaman ng Barangay: Elisha Emile D. Gungon",
                    
                    "Mga pangunahing establisyemento:\n- Philippine Long Distance Co. (PLDT)\n- Rufina Patis\n- Metro Oil Gasoline Station\nMga paaralan:\n- Amang Rodriguez Elementary School (ARES)\n- Arellano University\nAng Baritan Sports Complex ay nagsisilbing lugar para sa palakasan, pagpupulong, at mga asembliya.",
                    
                    "Ang aming oras ng operasyon:\nOpisina ng Barangay: 8:00 AM - 5:00 PM\nBarangay Soldiers For Peace & Order: 24 Oras",
                    
                    "Maaari kaming makontak sa pamamagitan ng:\n\nFacebook: www.facebook.com/barangaybaritankmgs\n\nTelepono: (+63) 942 423 5234",
                    
                    "Ang account ay dapat i-apply ng puno ng pamilya, ayon sa itinakda sa loob ng pamilya.",
                    
                    "Kami ay tumatanggap ng bayad sa pamamagitan ng PayMaya at GCash.",
                    
                    "Oo, kinakailangan ang pagrehistro para ma-access ang lahat ng serbisyo, maliban sa blotter at complaint na serbisyo",
                    
                    "Maaari kang mag-apply para sa Certificate of Indigency kung kailangan mo ito para sa:\n- Tulong pinansyal\n- Tulong medikal\n- Tulong pang-edukasyon\n- Pangangailangan ng social pension\n- Tulong sa libing\n- Pangangailangan ng P.W.D ID\n- Bakuna kontra rabies\n- Tulong legal\n- Pangangailangan ng 4Ps\n- Pangangailangan ng OSCA\n- Pangangailangan ng solo parent ID\n- Pangangailangan ng drug test",
                    
                    "Mag-apply para sa mga dokumentong ito kung kailangan para sa:\n- Pangangailangan ng SSS\n- Pangangailangan ng PLDT\n- Permiso para sa demolisyon\n- Permiso para sa renovasyon\n- Pangangailangan ng postal ID\n- Pangangailangan ng PhilHealth\n- Permiso sa negosyo o pagsasara ng negosyo\n- Pangangailangan ng bangko\n- Pangangailangan ng pautang\n- Pangangailangan para sa kasal\n- Pangangailangan ng internet connection"
                ]
            }
        };
        
        // DOM elements
        const chatbotIcon = document.getElementById('chatbot-icon');
        const chatbotContainer = document.getElementById('chatbot-container');
        const closeBtn = document.getElementById('close-btn');
        const langBtn = document.getElementById('lang-btn');
        const chatTitle = document.getElementById('chat-title');
        const welcomeMessage = document.getElementById('welcome-message');
        const questionsContainer = document.getElementById('questions-container');
        
        // Toggle chat visibility
        chatbotIcon.addEventListener('click', () => {
            chatbotContainer.classList.toggle('active');
        });
        
        closeBtn.addEventListener('click', () => {
            chatbotContainer.classList.remove('active');
        });
        
        // Toggle language
        langBtn.addEventListener('click', () => {
            currentLang = currentLang === 'en' ? 'fil' : 'en';
            updateLanguage();
        });
        
        // Update UI based on current language
        function updateLanguage() {
            const lang = translations[currentLang];
            
            // Update static texts
            chatTitle.textContent = lang.title;
            welcomeMessage.textContent = lang.welcome;
            langBtn.textContent = lang.langBtn;
            
            // Update questions
            questionsContainer.innerHTML = '';
            lang.questions.forEach((question, index) => {
                const btn = document.createElement('button');
                btn.classList.add('question-btn');
                btn.textContent = question;
                btn.onclick = () => askQuestion(index);
                questionsContainer.appendChild(btn);
            });
        }
        
        // Ask a question (by index)
        function askQuestion(questionIndex) {
            const chatMessages = document.getElementById('chat-messages');
            const lang = translations[currentLang];
            
            // Add user question to chat
            const userMessage = document.createElement('div');
            userMessage.classList.add('message', 'user-message');
            userMessage.textContent = lang.questions[questionIndex];
            chatMessages.appendChild(userMessage);
            
            // Create typing indicator
            const typingIndicator = document.createElement('div');
            typingIndicator.classList.add('typing-indicator');
            typingIndicator.innerHTML = `
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
            `;
            chatMessages.appendChild(typingIndicator);
            
            // Scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // Get answer after a short delay (simulating typing time)
            setTimeout(() => {
                // Remove typing indicator
                chatMessages.removeChild(typingIndicator);
                
                // Get and add bot answer with typing animation
                const answer = lang.answers[questionIndex];
                const botMessage = document.createElement('div');
                botMessage.classList.add('message', 'bot-message');
                chatMessages.appendChild(botMessage);
                
                // Type out the answer character by character
                let i = 0;
                const typingSpeed = 20; // milliseconds per character
                const typeAnswer = () => {
                    if (i < answer.length) {
                        botMessage.innerHTML += answer.charAt(i);
                        i++;
                        chatMessages.scrollTop = chatMessages.scrollHeight;
                        setTimeout(typeAnswer, typingSpeed);
                    }
                };
                
                typeAnswer();
            }, 1000); // 1 second delay before showing typing
        }
        
        // Initialize the UI
        updateLanguage();
  